<div class="row">
  <div class="col-md-12 center-block">
    <div [hidden]="state!='lesson'" id="lesson">
      <h1 class="text-center">{{current_lesson.name | capitalize}}</h1>
      <div #lesson_text></div>
      <button class="btn btn-primary" (click)="onQuizActivate()">započni kviz</button>
    </div>
    <div *ngIf="state==='quiz'">
      <form class="center-block" (ngSubmit)="onSubmit(f)" #f="ngForm">
        <p class="text-center">{{current_question.question}}</p>
        <span *ngIf="incorrect" class="help-block text-center">Odgovor je netočan, pokušajte ponovo!</span>
        <div *ngIf="current_question.type == 'radio'">
          <div class="answers form-group"
               *ngFor="let answer of current_question.answers; let i = index">
            <label class="radio-inline">
              <input ngModel type="radio" name="question" value="{{answer}}" required> {{answer}}
            </label>
          </div>
        </div>
        <div *ngIf="current_question.type == 'input'">
          <input ngModel name="question" placeholder="Upiši odgovor ovdje" type="text" class="form-control"
                 #input_answer required>
          <hr>
          <div class="keyboard">
            <button type="button" (click)="onEnterKey('æ', f)">Æ</button>
            <button type="button" (click)="onEnterKey('ø', f)">Ø</button>
            <button type="button" (click)="onEnterKey('å', f)">Å</button>
          </div>
        </div>
        <div *ngIf="current_question.type=='hangman' ">
          <div #hangman id="hangman" class="col-xs-12">
            <span *ngFor="let letter of current_question.correct_answer">_</span>
            <input #input_answer type="text" maxlength="1" placeholder="Upiši slovo ovdje" ngModel name="hangman">
            <div class="keyboard">
              <button type="button" (click)="onEnterKey('æ', f)">Æ</button>
              <button type="button" (click)="onEnterKey('ø', f)">Ø</button>
              <button type="button" (click)="onEnterKey('å', f)">Å</button>
            </div>
            <button type="button" (click)="onCheck(f)">Provjeri</button>
          </div>
          <div class="used-letters"></div>
        </div>
        <div *ngIf="current_question.type=='guess' ">
          <img class="img-responsive"
               src="https://upload.wikimedia.org/wikipedia/commons/e/e6/BLT_sandwich_on_toast.jpg" alt="">
          <input #input_answer placeholder="Ovdje upiši odgovor" type="text" name="question" ngModel required/>
          <div class="keyboard">
            <button type="button" (click)="onEnterKey('æ', f)">Æ</button>
            <button type="button" (click)="onEnterKey('ø', f)">Ø</button>
            <button type="button" (click)="onEnterKey('å', f)">Å</button>
          </div>
        </div>
        <div *ngIf="current_question.type=='rearrange' ">
          <h3>Odgovor:</h3>
          <div #answer></div>
          <hr>
          <div #available>
            <div *ngFor="let segment of current_question.shuffled_array" (click)="onPush($event)"
                 style="border: 1px solid black"> {{segment}}
            </div>
          </div>
        </div>

        <button [disabled]="shouldDisable(f)" type="submit" *ngIf="index != current_lesson.questions.length - 1"
                class="btn btn-primary">sljedeće pitanje
        </button>
        <button [disabled]="shouldDisable(f)" type="submit" *ngIf="index == current_lesson.questions.length - 1"
                class="btn btn-primary">kraj
        </button>
      </form>
    </div>
    <div *ngIf="state==='finished'">
      <h2>Bravo, uspješno si riješio lekciju! :)</h2>
      <button class="btn btn-primary" *ngIf="next_lesson" (click)="onNextLesson()">sljedeća lekcija</button>
    </div>
  </div>
</div>
